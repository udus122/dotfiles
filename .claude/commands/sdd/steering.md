---
description: Create or update sdd steering documents intelligently based on project state
allowed-tools: Bash, Read, Write, Edit, MultiEdit, Glob, Grep, LS
---

# Steering

Steering は `.sdd/steering/` に配置するプロジェクト全体のガイドで、個別仕様や単発タスクではなく判断基準・背景・適用範囲を簡潔に示し、プロジェクトの一貫性・共有理解・AIエージェント参照コンテキストを提供します。

## ステアリングドキュメントの種類

### 基本ステアリングファイル

#### `product.md` - 製品コンテキストとビジネス目標

新規ファイルの場合、包括的なプロダクト概要を生成：

- プロダクト概要: プロダクトが何であるかの簡潔な説明
- コア機能: 主要機能の箇条書きリスト
- ターゲットユースケース: プロダクトが対応する特定のシナリオ
- 主要な価値提案: ユニークな利点と差別化要素

既存ファイルの場合、以下がある場合のみ更新：

- プロダクトに追加された新機能
- 削除された機能または非推奨の機能
- 変更されたユースケースまたはターゲットオーディエンス
- 更新された価値提案または利点

#### `tech.md` - 技術スタックとアーキテクチャ決定

新規ファイルの場合、完全な技術概要をドキュメント化：

- アーキテクチャ: ハイレベルシステム設計
- フロントエンド: フレームワーク、ライブラリ、ビルドツール（該当する場合）
- バックエンド: 言語、フレームワーク、サーバー技術（該当する場合）
- 開発環境: 必要なツールとセットアップ
- 一般的なコマンド: 頻繁に使用される開発コマンド
- 環境変数: 主要な設定変数
- ポート設定: サービスで使用される標準ポート

既存ファイルの場合、以下の変更をチェック：

- パッケージマネージャー経由で追加された新しい依存関係
- 削除されたライブラリまたはフレームワーク
- 主要依存関係のバージョンアップグレード
- 新しい開発ツールまたはビルドプロセス
- 変更された環境変数または設定
- 修正されたポート割り当てまたはサービスアーキテクチャ

#### `structure.md` - ファイル構成とコードパターン

新規ファイルの場合、コードベースの構成の概要：

- ルートディレクトリ構成: 説明付きのトップレベル構造
- サブディレクトリ構造: 主要ディレクトリの詳細な内訳
- コード編成パターン: コードの構造化方法
- ファイル命名規則: ファイルとディレクトリの命名標準
- インポート編成: インポート/依存関係の編成方法
- 主要なアーキテクチャ原則: コア設計決定とパターン

既存ファイルの場合、以下の変更を探す：

- 新しいディレクトリまたは大規模な再編成
- 変更されたファイル編成パターン
- 新しいまたは修正された命名規則
- 更新されたアーキテクチャパターンまたは原則
- リファクタリングされたコード構造またはモジュール境界

### カスタムステアリングファイル（必要に応じて作成）
- API標準、テスト戦略、セキュリティポリシーなど
- プロジェクト固有の要件に対応

例:
- api-standards.md - REST API規約、エラー形式、認証フロー
- testing-standards.md - テスト戦略、カバレッジ目標
- security-policies.md - セキュリティ要件、脆弱性防止策

## Steeringの更新手順

1. `@.sdd/steering/`ディレクトリが存在しない場合は作成
2. 既存ファイルをチェックして作成モードか更新モードかを決定
3. ネイティブツール（Glob、Grep、LS）を使用してコードベースを分析
4. 新規ファイルの場合: 包括的な初期ドキュメントを生成
  - ユーザーから内容をヒアリングして作成
  - ユーザーは必ずしも
5. 既存ファイルの場合:
  - 現在のコンテンツを最初に読む
  - ユーザーカスタマイズとコメントを保持
  - 事実/技術情報のみを更新
  - 既存の構造とスタイルを維持
6. 適切なヘッダーとセクションを持つ明確なマークダウンフォーマットを使用
7. 理解に役立つ具体的な例を含める
8. 推測よりも事実に焦点を当てる - 存在するものをドキュメント化

### Steering更新時の参照対象

- メインREADME: @README.md
- パッケージ設定: @package.json
- Python要件: @requirements.txt
- TypeScript設定: @tsconfig.json
- プロジェクトドキュメント: @docs/
- コーディングエージェントプロジェクトメモリ: @AGENTS.md

## 重要な原則

### Steering更新時の参照対象

- 設定ファイル（例: package.json, requirements.txt, Cargo.toml, go.mod など）
- README.md、AGENTS.md、CHANGELOG.md、`docs/` 以下の資料
- ディレクトリ構造とソースファイル配置

### Steering作成時の原則:
- セキュリティ情報を含めない
- 事実のみ記載
- 既存内容は保持（更新時）
