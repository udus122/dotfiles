---
description: "Clarify ambiguities in plans with structured questions"
allowed-tools:
  - Write
  - Edit
  - Read
  - Grep
  - Glob
  - TodoRead
  - TodoWrite
  - AskUserQuestion
---

現在のプランファイルを読み込み、AskUserQuestionツールを使って、以下のあらゆる内容について詳細なヒアリングを行う：
- プロダクト仕様
- 技術的詳細
- UI/UX
- その他すべて

以下のフェーズに従って進める：

1. 不明点の洗い出し
2. 意思決定のための質問
3. 決定事項のプランへの反映
4. ユーザーへのサマリー表示

すべての不明点が解消されるまで、徹底的にヒアリングを続ける。完了後、仕様をプランファイルに記述する。
フェーズ3の後、プランファイルを再確認し、新たな不明点が見つかった場合はフェーズ2に戻る。

### フェーズ2: 質問の生成

<rules>
- 質問数: 2-4個（曖昧さのレベルに応じて調整）
- 各質問に2-4個の具体的な選択肢を用意
- 各選択肢にはメリット・デメリットを簡潔に記載
- 自由回答形式の質問は避ける
- 「その他」オプションは自動追加されるため含めない
- CLAUDE.mdの既存パターンに沿った選択肢を提示
</rules>


### フェーズ3: 回答後の処理

<output_format>
ユーザーの回答を受け取った後、以下の形式で出力：

## 決定事項

| 項目 | 選択 | 理由 | 備考 |
|------|------|------|------|
| データ保存 | データベース | スケーラビリティが必要 | 移行戦略を検討 |

## 次のステップ

1. 最初のタスク
   - 詳細...
2. 次のタスク
   - 詳細...
</output_format>

---

## 重要な注意事項

- 必ずAskUserQuestionツールを使用する（会話形式の質問ではなく）
- 各選択肢には必ずメリット・デメリットを含める
- multiSelectは控えめに使用（デフォルト: false）
- 質問生成前にCLAUDE.mdを読み、プロジェクトパターンに沿った内容にする
